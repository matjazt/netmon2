spring:
  application:
    name: netmon2

  profiles:
    active: local

  mandatory-file-encoding: UTF-8

  datasource:
    url: changeit
    username: changeit
    password: changeit
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      auto-commit: false

  jpa:
    hibernate:
      ddl-auto: none        # important for DB-first
    properties:
      hibernate:
        format_sql: false
        show_sql: false
        generate_statistics: false
        jdbc:
          batch_size: 50
        order_inserts: true
        order_updates: true
        flush_mode: COMMIT
    open-in-view: false

logging:
  level:
    org.hibernate.SQL: OFF
    # org.hibernate.SQL: DEBUG
    # org.hibernate.stat: DEBUG
    # org.hibernate.orm.jdbc.bind: TRACE

server:
  port: 8080
  servlet:
    context-path: /netmon2
  forward-headers-strategy: framework # Trust X-Forwarded-* headers

# Actuator configuration for health checks and monitoring
management:
  endpoints:
    web:
      exposure:
        include: health,info     # Expose only health and info endpoints
  endpoint:
    health:
      show-details: always

greeting:
  template: "Zdravo, %s!"

mqtt:
  url: changeit
  client-id: netmon2
  username: changeit
  password: changeit
  topic-template: network/{networkName}/scan
  truststore-path:                           # Optional: Path to JKS truststore for self-signed CA certificates
  truststore-password:                       # Optional: Truststore password (required if truststore-path is set)
  automatic-reconnect: true                  # Enable automatic reconnection on connection loss
  clean-session: true                        # Persistent session (false) vs clean session (true)
  qos: 1                                     # Quality of Service level (0=at most once, 1=at least once, 2=exactly once)
  connection-timeout: 30                     # Connection timeout in seconds
  keep-alive-interval: 60                    # Keep-alive interval in seconds
  completion-timeout: 5000                   # Completion timeout in milliseconds
  ssl-verify-hostname: true                  # Verify SSL hostname (disable only for testing)

alerter:
  smtp-host: changeit                        # SMTP server hostname
  smtp-port: changeit                        # SMTP port (587 for TLS, 465 for SSL, 25 for plain)
  smtp-username: changeit                    # SMTP username for authentication
  smtp-password: changeit                    # SMTP password for authentication
  smtp-start-tls: true                       # Enable STARTTLS (recommended for port 587)
  smtp-auth: true                            # Enable SMTP authentication
  from-email: changeit                       # Sender email address
  from-name: netmon2                         # Sender display name
  interval-seconds: 20                       # Alert processing interval in seconds
  initial-delay-seconds: 30                  # Initial delay before first alert processing in seconds
